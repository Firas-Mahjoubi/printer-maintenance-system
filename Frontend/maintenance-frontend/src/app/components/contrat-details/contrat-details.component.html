<!-- Contrat Details Component -->
<div class="container-fluid py-4">
  <!-- Loading State -->
  <div class="row mb-4" *ngIf="loading">
    <div class="col-12">
      <div class="card border-0 shadow-sm">
        <div class="card-body text-center py-5">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Chargement...</span>
          </div>
          <p class="mt-3 text-muted">Chargement des détails du contrat...</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Error State -->
  <div class="row mb-4" *ngIf="error && !loading">
    <div class="col-12">
      <div class="card border-0 shadow-sm border-danger">
        <div class="card-body text-center py-5">
          <i class="bi bi-exclamation-triangle text-danger" style="font-size: 3rem;"></i>
          <h4 class="mt-3 text-danger">Erreur</h4>
          <p class="text-muted">{{ error }}</p>
          <button class="btn btn-primary" (click)="loadContratDetails()">
            <i class="bi bi-arrow-clockwise me-2"></i>Réessayer
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Header Section -->
  <div class="row mb-4" *ngIf="contrat && !loading">
    <div class="col-12">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start">
            <div class="d-flex align-items-center">
              <button class="btn btn-outline-secondary btn-sm me-3" (click)="goBack()">
                <i class="bi bi-arrow-left"></i> Retour
              </button>
              <div>
                <h1 class="h3 mb-1 fw-bold text-primary">Contrat #{{ contrat.numeroContrat }}</h1>
                <p class="text-muted mb-0">Détails complets du contrat de maintenance</p>
              </div>
            </div>
            <div class="d-flex gap-2">
              <button class="btn btn-outline-primary btn-sm" (click)="exportToPdf()">
                <i class="bi bi-printer"></i> Imprimer
              </button>
              <button class="btn btn-outline-warning btn-sm" (click)="editContrat()">
                <i class="bi bi-pencil"></i> Modifier
              </button>
              <div class="dropdown">
                <button class="btn btn-outline-secondary btn-sm dropdown-toggle" data-bs-toggle="dropdown">
                  <i class="bi bi-three-dots"></i>
                </button>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#"><i class="bi bi-files"></i> Dupliquer</a></li>
                  <li><a class="dropdown-item" (click)="exportToPdf()"><i class="bi bi-download"></i> Exporter PDF</a></li>
                  <li><a class="dropdown-item" (click)="renewContrat()"><i class="bi bi-arrow-clockwise"></i> Renouveler</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item text-danger" (click)="deleteContrat()"><i class="bi bi-trash"></i> Supprimer</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row" *ngIf="contrat && !loading">
    <!-- Main Content -->
    <div class="col-lg-8">
      <!-- Contract Overview -->
      <div class="card border-0 shadow-sm mb-4">
        <div class="card-header bg-primary text-white border-0">
          <h5 class="mb-0 fw-semibold">
            <i class="bi bi-file-earmark-text me-2"></i>
            Informations Générales
          </h5>
        </div>
        <div class="card-body">
          <div class="row g-4">
            <div class="col-md-6">
              <div class="info-item">
                <label class="form-label text-muted small fw-semibold">NUMÉRO DE CONTRAT</label>
                <div class="fw-bold text-primary fs-5">{{ contrat.numeroContrat }}</div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="info-item">
                <label class="form-label text-muted small fw-semibold">STATUT</label>
                <div>
                  <span class="badge px-3 py-2 rounded-pill" [ngClass]="getStatusClass(contrat.statutContrat)">
                    <i class="me-1" [ngClass]="getStatusIcon(contrat.statutContrat)"></i>
                    {{ getStatusText(contrat.statutContrat) }}
                  </span>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="info-item">
                <label class="form-label text-muted small fw-semibold">DATE DE DÉBUT</label>
                <div class="fw-semibold">{{ formatDate(contrat.dateDebut) }}</div>
                <small class="text-muted">{{ formatDateShort(contrat.dateDebut) }}</small>
              </div>
            </div>
            <div class="col-md-6">
              <div class="info-item">
                <label class="form-label text-muted small fw-semibold">DATE DE FIN</label>
                <div class="fw-semibold">{{ formatDate(contrat.dateFin) }}</div>
                <small class="text-warning" *ngIf="calculateDaysRemaining(contrat.dateFin) > 0">
                  Expire dans {{ calculateDaysRemaining(contrat.dateFin) }} jours
                </small>
                <small class="text-danger" *ngIf="calculateDaysRemaining(contrat.dateFin) <= 0">
                  Contrat expiré
                </small>
              </div>
            </div>
            <div class="col-md-6">
              <div class="info-item">
                <label class="form-label text-muted small fw-semibold">DURÉE</label>
                <div class="fw-semibold">{{ calculateContractDuration(contrat.dateDebut, contrat.dateFin) }}</div>
                <small class="text-muted">Contrat</small>
              </div>
            </div>
            <div class="col-md-6">
              <div class="info-item">
                <label class="form-label text-muted small fw-semibold">TYPE DE CONTRAT</label>
                <div class="fw-semibold">Maintenance Préventive</div>
                <small class="text-muted">Contrat standard</small>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Client Information -->
      <div class="card border-0 shadow-sm mb-4">
        <div class="card-header bg-info text-white border-0">
          <h5 class="mb-0 fw-semibold">
            <i class="bi bi-building me-2"></i>
            Informations Client
          </h5>
        </div>
        <div class="card-body">
          <div class="row align-items-center mb-3">
            <div class="col-auto">
              <div class="avatar-lg bg-info text-white rounded-circle d-flex align-items-center justify-content-center">
                {{ getClientInitials() }}
              </div>
            </div>
            <div class="col">
              <h4 class="mb-1 fw-bold">{{ getClientFullName() }}</h4>
              <p class="text-muted mb-0">Client ID: {{ contrat.client?.id || contrat.clientId || 'N/A' }}</p>
            </div>
            <div class="col-auto">
              <span class="badge bg-success">Client</span>
            </div>
          </div>
          
          <div class="row g-3">
            <div class="col-md-6">
              <div class="d-flex align-items-center mb-2">
                <i class="bi bi-person-circle me-2 text-muted"></i>
                <strong>Nom Complet:</strong>
              </div>
              <div class="ps-4">
                <div>{{ getClientFullName() }}</div>
                <small class="text-muted">Nom du client</small>
              </div>
            </div>
            <div class="col-md-6">
              <div class="d-flex align-items-center mb-2">
                <i class="bi bi-envelope me-2 text-muted"></i>
                <strong>Email:</strong>
              </div>
              <div class="ps-4">{{ contrat.client?.email || 'Non défini' }}</div>
            </div>
            <div class="col-md-6">
              <div class="d-flex align-items-center mb-2">
                <i class="bi bi-telephone me-2 text-muted"></i>
                <strong>Téléphone:</strong>
              </div>
              <div class="ps-4">{{ contrat.client?.telephone || 'Non défini' }}</div>
            </div>
            <div class="col-md-6">
              <div class="d-flex align-items-center mb-2">
                <i class="bi bi-hash me-2 text-muted"></i>
                <strong>ID Client:</strong>
              </div>
              <div class="ps-4">#{{ contrat.client?.id || contrat.clientId || 'N/A' }}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Contract Content -->
      <div class="card border-0 shadow-sm mb-4" *ngIf="contrat.conditions_contrat">
        <div class="card-header bg-warning text-dark border-0">
          <h5 class="mb-0 fw-semibold">
            <i class="bi bi-file-text me-2"></i>
            Contenu du Contrat
          </h5>
        </div>
        <div class="card-body">
          <div class="contract-content" [innerHTML]="contrat.conditions_contrat">
          </div>
        </div>
      </div>

      <!-- Printers Table -->
      <div class="card border-0 shadow-sm mb-4">
        <div class="card-header bg-secondary text-white border-0">
          <div class="d-flex justify-content-between align-items-center">
            <h5 class="mb-0 fw-semibold">
              <i class="bi bi-printer me-2"></i>
              Imprimantes Assignées
              <span class="badge bg-light text-dark ms-2">{{ imprimantes.length }}</span>
            </h5>
            <button class="btn btn-light btn-sm" (click)="refreshImprimantes()" [disabled]="loadingImprimantes">
              <i class="bi bi-arrow-clockwise me-1"></i>
              Actualiser
            </button>
          </div>
        </div>
        <div class="card-body">
          <!-- Loading State -->
          <div class="text-center py-4" *ngIf="loadingImprimantes">
            <div class="spinner-border text-primary spinner-border-sm" role="status">
              <span class="visually-hidden">Chargement...</span>
            </div>
            <p class="mt-2 text-muted mb-0">Chargement des imprimantes...</p>
          </div>

          <!-- Error State -->
          <div class="alert alert-warning" *ngIf="errorImprimantes && !loadingImprimantes">
            <i class="bi bi-exclamation-triangle me-2"></i>
            {{ errorImprimantes }}
            <button class="btn btn-sm btn-outline-warning ms-2" (click)="refreshImprimantes()">
              Réessayer
            </button>
          </div>

          <!-- Empty State -->
          <div class="text-center py-4" *ngIf="!loadingImprimantes && !errorImprimantes && imprimantes.length === 0">
            <i class="bi bi-printer text-muted" style="font-size: 3rem;"></i>
            <h6 class="mt-3 text-muted">Aucune imprimante assignée</h6>
            <p class="text-muted">Ce contrat n'a aucune imprimante assignée pour le moment.</p>
            <div class="d-flex gap-2 justify-content-center">
              <button class="btn btn-outline-primary btn-sm" (click)="toggleAddPrinterForm()">
                <i class="bi bi-plus-circle me-2"></i>
                Ajouter une imprimante
              </button>
              <button class="btn btn-outline-success btn-sm" (click)="toggleExcelImport()">
                <i class="bi bi-file-earmark-excel me-2"></i>
                Importer Excel
              </button>
            </div>
          </div>

          <!-- Printers Table -->
          <div class="table-responsive" *ngIf="!loadingImprimantes && !errorImprimantes && imprimantes.length > 0">
            <table class="table table-hover align-middle">
              <thead class="table-light">
                <tr>
                  <th scope="col">
                    <i class="bi bi-printer me-1"></i>
                    Marque & Modèle
                  </th>
                  <th scope="col">
                    <i class="bi bi-geo-alt me-1"></i>
                    Emplacement
                  </th>
                  <th scope="col">
                    <i class="bi bi-tag me-1"></i>
                    N° Série
                  </th>
                  <th scope="col">
                    <i class="bi bi-tools me-1"></i>
                    Actions
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let imprimante of imprimantes; trackBy: trackByImprimanteId">
                  <td>
                    <div class="d-flex align-items-center">
                      <div class="bg-light rounded p-2 me-3">
                        <i class="bi bi-printer text-secondary"></i>
                      </div>
                      <div>
                        <div class="fw-semibold">{{ imprimante.marque }}</div>
                        <small class="text-muted">{{ imprimante.modele }}</small>
                      </div>
                    </div>
                  </td>
                  <td>
                    <span class="text-muted">
                      <i class="bi bi-geo-alt-fill me-1"></i>
                      {{ imprimante.emplacement || 'Non défini' }}
                    </span>
                  </td>
                  <td>
                    <code class="bg-light px-2 py-1 rounded">{{ imprimante.numeroSerie }}</code>
                  </td>
                  <td>
                    <div class="dropdown">
                      <button class="btn btn-outline-secondary btn-sm dropdown-toggle" 
                              data-bs-toggle="dropdown" 
                              aria-expanded="false">
                        <i class="bi bi-gear"></i>
                      </button>
                      <ul class="dropdown-menu">
                        <li>
                          <a class="dropdown-item" href="#">
                            <i class="bi bi-eye me-2"></i>Voir détails
                          </a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">
                            <i class="bi bi-pencil me-2"></i>Modifier
                          </a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">
                            <i class="bi bi-calendar-plus me-2"></i>Planifier maintenance
                          </a>
                        </li>
                        <li><hr class="dropdown-divider"></li>
                        <li>
                          <a class="dropdown-item text-danger" (click)="removePrinter(imprimante)">
                            <i class="bi bi-trash me-2"></i>Retirer du contrat
                          </a>
                        </li>
                      </ul>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Add Printer Buttons -->
          <div class="text-end mt-3" *ngIf="!loadingImprimantes && !errorImprimantes && imprimantes.length > 0">
            <div class="d-flex gap-2 justify-content-end">
              <button class="btn btn-outline-primary btn-sm" (click)="toggleAddPrinterForm()">
                <i class="bi bi-plus-circle me-2"></i>
                Ajouter une imprimante
              </button>
              <button class="btn btn-outline-success btn-sm" (click)="toggleExcelImport()">
                <i class="bi bi-file-earmark-excel me-2"></i>
                Importer Excel
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Add Printer Form -->
      <div class="card border-0 shadow-sm mb-4" *ngIf="showAddPrinterForm">
        <div class="card-header bg-primary text-white border-0">
          <div class="d-flex justify-content-between align-items-center">
            <h5 class="mb-0 fw-semibold">
              <i class="bi bi-plus-circle me-2"></i>
              Ajouter une Imprimante
            </h5>
            <button class="btn btn-light btn-sm" (click)="cancelAddPrinter()">
              <i class="bi bi-x"></i>
            </button>
          </div>
        </div>
        <div class="card-body">
          <form (ngSubmit)="addPrinter()">
            <div class="row g-3">
              <div class="col-md-6">
                <label for="marque" class="form-label">Marque <span class="text-danger">*</span></label>
                <input type="text" 
                       class="form-control" 
                       id="marque" 
                       [(ngModel)]="newPrinter.marque" 
                       name="marque"
                       placeholder="Ex: HP, Canon, Epson..." 
                       required>
              </div>
              <div class="col-md-6">
                <label for="modele" class="form-label">Modèle <span class="text-danger">*</span></label>
                <input type="text" 
                       class="form-control" 
                       id="modele" 
                       [(ngModel)]="newPrinter.modele" 
                       name="modele"
                       placeholder="Ex: LaserJet Pro, PIXMA..." 
                       required>
              </div>
              <div class="col-md-6">
                <label for="numeroSerie" class="form-label">Numéro de Série <span class="text-danger">*</span></label>
                <input type="text" 
                       class="form-control" 
                       id="numeroSerie" 
                       [(ngModel)]="newPrinter.numeroSerie" 
                       name="numeroSerie"
                       placeholder="Ex: ABC123456789" 
                       required>
              </div>
              <div class="col-md-6">
                <label for="emplacement" class="form-label">Emplacement</label>
                <input type="text" 
                       class="form-control" 
                       id="emplacement" 
                       [(ngModel)]="newPrinter.emplacement" 
                       name="emplacement"
                       placeholder="Ex: Bureau 101, Étage 2...">
              </div>
            </div>
            <div class="d-flex justify-content-end gap-2 mt-4">
              <button type="button" class="btn btn-outline-secondary" (click)="cancelAddPrinter()">
                <i class="bi bi-x-circle me-2"></i>
                Annuler
              </button>
              <button type="submit" class="btn btn-primary">
                <i class="bi bi-plus-circle me-2"></i>
                Ajouter l'imprimante
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Excel Import Form -->
      <div class="card border-0 shadow-sm mb-4" *ngIf="showExcelImport">
        <div class="card-header bg-success text-white border-0">
          <div class="d-flex justify-content-between align-items-center">
            <h5 class="mb-0 fw-semibold">
              <i class="bi bi-file-earmark-excel me-2"></i>
              Importer depuis Excel
            </h5>
            <button class="btn btn-light btn-sm" (click)="cancelExcelImport()">
              <i class="bi bi-x"></i>
            </button>
          </div>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-8">
              <div class="mb-3">
                <label for="excelFile" class="form-label">Fichier Excel (.xlsx, .xls)</label>
                <input type="file" 
                       class="form-control" 
                       id="excelFile" 
                       accept=".xlsx,.xls"
                       (change)="onFileSelected($event)"
                       [disabled]="importing">
                <div class="form-text">
                  <i class="bi bi-info-circle me-1"></i>
                  Le fichier doit contenir les colonnes : Marque, Modèle, NuméroSérie, Emplacement
                </div>
              </div>
              
              <!-- Selected file info -->
              <div class="alert alert-info" *ngIf="selectedFile">
                <div class="d-flex align-items-center">
                  <i class="bi bi-file-earmark-excel me-2"></i>
                  <div>
                    <strong>{{ selectedFile.name }}</strong>
                    <small class="d-block text-muted">{{ (selectedFile.size / 1024 / 1024).toFixed(2) }} MB</small>
                  </div>
                </div>
              </div>

              <!-- Import progress -->
              <div class="mb-3" *ngIf="importing">
                <div class="d-flex justify-content-between mb-1">
                  <small class="text-muted">Importation en cours...</small>
                  <small class="text-muted">{{ uploadProgress }}%</small>
                </div>
                <div class="progress">
                  <div class="progress-bar progress-bar-striped progress-bar-animated" 
                       role="progressbar" 
                       [style.width.%]="uploadProgress">
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card bg-light">
                <div class="card-body text-center">
                  <i class="bi bi-download text-primary" style="font-size: 2rem;"></i>
                  <h6 class="mt-2">Modèle Excel</h6>
                  <p class="small text-muted">Téléchargez le modèle pour formater vos données</p>
                  <button class="btn btn-outline-primary btn-sm" (click)="downloadExcelTemplate()">
                    <i class="bi bi-download me-1"></i>
                    Télécharger
                  </button>
                </div>
              </div>
            </div>
          </div>
          
          <div class="d-flex justify-content-end gap-2 mt-4">
            <button type="button" 
                    class="btn btn-outline-secondary" 
                    (click)="cancelExcelImport()"
                    [disabled]="importing">
              <i class="bi bi-x-circle me-2"></i>
              Annuler
            </button>
            <button type="button" 
                    class="btn btn-success" 
                    (click)="importFromExcel()"
                    [disabled]="!selectedFile || importing">
              <span *ngIf="importing" class="spinner-border spinner-border-sm me-2" role="status"></span>
              <i *ngIf="!importing" class="bi bi-cloud-upload me-2"></i>
              {{ importing ? 'Importation...' : 'Importer les imprimantes' }}
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Sidebar -->
    <div class="col-lg-4">
      <!-- Contract Status Card -->
      <div class="card border-0 shadow-sm mb-4">
        <div class="card-body text-center">
          <div class="position-relative mb-3">
            <div class="progress-circle mx-auto" style="width: 120px; height: 120px;">
              <svg width="120" height="120" viewBox="0 0 120 120">
                <circle cx="60" cy="60" r="50" fill="none" stroke="#e9ecef" stroke-width="8"/>
                <circle cx="60" cy="60" r="50" fill="none" stroke="#28a745" stroke-width="8" 
                        [attr.stroke-dasharray]="314" 
                        [attr.stroke-dashoffset]="314 - (314 * getProgressPercentage(contrat.dateDebut, contrat.dateFin) / 100)"
                        transform="rotate(-90 60 60)" stroke-linecap="round"/>
              </svg>
              <div class="position-absolute top-50 start-50 translate-middle text-center">
                <div class="h3 fw-bold text-success mb-0">{{ getProgressPercentage(contrat.dateDebut, contrat.dateFin) }}%</div>
                <small class="text-muted">Progression</small>
              </div>
            </div>
          </div>
          <h5 class="fw-bold" [ngClass]="'text-' + (contrat.statutContrat === 'actif' ? 'success' : 'warning')">
            {{ getStatusText(contrat.statutContrat) }}
          </h5>
          <p class="text-muted mb-3" *ngIf="calculateDaysRemaining(contrat.dateFin) > 0">
            {{ calculateDaysRemaining(contrat.dateFin) }} jours restants
          </p>
          <p class="text-danger mb-3" *ngIf="calculateDaysRemaining(contrat.dateFin) <= 0">
            Contrat expiré
          </p>
          <div class="row text-center">
            <div class="col-6">
              <div class="border-end">
                <div class="h5 fw-bold text-primary mb-0">{{ contrat.id || 'N/A' }}</div>
                <small class="text-muted">ID Contrat</small>
              </div>
            </div>
            <div class="col-6">
              <div class="h5 fw-bold text-success mb-0">{{ contrat.client?.id || 'N/A' }}</div>
              <small class="text-muted">ID Client</small>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="card border-0 shadow-sm mb-4">
        <div class="card-header border-0 bg-light">
          <h6 class="mb-0 fw-semibold">Actions Rapides</h6>
        </div>
        <div class="card-body">
          <div class="d-grid gap-2">
            <button class="btn btn-primary">
              <i class="bi bi-calendar-plus me-2"></i>
              Planifier Intervention
            </button>
            <button class="btn btn-outline-info">
              <i class="bi bi-file-earmark-text me-2"></i>
              Générer Rapport
            </button>
            <button class="btn btn-outline-warning" (click)="renewContrat()">
              <i class="bi bi-arrow-clockwise me-2"></i>
              Renouveler Contrat
            </button>
            <button class="btn btn-outline-secondary">
              <i class="bi bi-chat-dots me-2"></i>
              Contacter Client
            </button>
          </div>
        </div>
      </div>

      <!-- Contract Dates -->
      <div class="card border-0 shadow-sm">
        <div class="card-header border-0 bg-light">
          <h6 class="mb-0 fw-semibold">
            <i class="bi bi-calendar-event me-2"></i>
            Dates Importantes
          </h6>
        </div>
        <div class="card-body">
          <div class="d-flex align-items-start mb-3">
            <div class="bg-success text-white rounded p-2 me-3">
              <div class="text-center">
                <div class="fw-bold">{{ formatDate(contrat.dateDebut).split(' ')[0] }}</div>
                <small>{{ formatDate(contrat.dateDebut).split(' ')[1].substring(0, 3) }}</small>
              </div>
            </div>
            <div class="flex-grow-1">
              <h6 class="mb-1 fw-semibold">Début du Contrat</h6>
              <p class="text-muted mb-1 small">{{ formatDate(contrat.dateDebut) }}</p>
              <small class="text-muted">Date de mise en vigueur</small>
            </div>
          </div>

          <div class="d-flex align-items-start">
            <div class="bg-warning text-white rounded p-2 me-3">
              <div class="text-center">
                <div class="fw-bold">{{ formatDate(contrat.dateFin).split(' ')[0] }}</div>
                <small>{{ formatDate(contrat.dateFin).split(' ')[1].substring(0, 3) }}</small>
              </div>
            </div>
            <div class="flex-grow-1">
              <h6 class="mb-1 fw-semibold">Fin du Contrat</h6>
              <p class="text-muted mb-1 small">{{ formatDate(contrat.dateFin) }}</p>
              <small class="text-muted">Date d'expiration</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.info-item {
  padding: 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  border-left: 4px solid #007bff;
}

.avatar-lg {
  width: 60px;
  height: 60px;
}

.timeline {
  position: relative;
  padding-left: 30px;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 15px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: #e9ecef;
}

.timeline-item {
  position: relative;
  margin-bottom: 30px;
}

.timeline-marker {
  position: absolute;
  left: -22px;
  top: 5px;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  border: 2px solid white;
  box-shadow: 0 0 0 2px #e9ecef;
}

.timeline-content {
  background: #f8f9fa;
  padding: 15px;
  border-radius: 8px;
  position: relative;
}

.timeline-content::before {
  content: '';
  position: absolute;
  left: -8px;
  top: 15px;
  width: 0;
  height: 0;
  border-top: 8px solid transparent;
  border-bottom: 8px solid transparent;
  border-right: 8px solid #f8f9fa;
}

.progress-circle {
  position: relative;
}

.cursor-pointer {
  cursor: pointer;
}

.contract-content {
  max-height: 400px;
  overflow-y: auto;
  padding: 1rem;
  border: 1px solid #e9ecef;
  border-radius: 8px;
  background-color: #f8f9fa;
}

.contract-content h1, .contract-content h2, .contract-content h3 {
  color: #495057;
  margin-top: 1.5rem;
  margin-bottom: 1rem;
}

.contract-content h1:first-child, .contract-content h2:first-child, .contract-content h3:first-child {
  margin-top: 0;
}

.contract-content p {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.contract-content ul, .contract-content ol {
  margin-bottom: 1rem;
  padding-left: 2rem;
}

.contract-content li {
  margin-bottom: 0.5rem;
}
</style>
